<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roteiro Interativo TP3 - Paisagismo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Chosen Palette: Calm Harmony (Warm neutrals: stone/amber, Accents: muted greens/emeralds) -->
    <!-- Application Structure Plan: An interactive dashboard/checklist SPA. A vertical navigation bar links to content sections displayed as interactive cards. This structure turns a static guide into a dynamic project management tool, breaking down the complex task into manageable, trackable steps, which is more user-friendly for a student than a linear document. -->
    <!-- Visualization & Content Choices: Report Info: Project requirements -> Goal: Organize/Inform -> Viz/Presentation: Interactive cards with collapsible sections and checklists. Tabela de Flora√ß√£o -> Goal: Compare -> Viz: Interactive Gantt-style chart using Chart.js. New Feature: Plant Species Suggester using Gemini API for dynamic plant recommendations based on user criteria. This approach enhances usability and engagement, providing a dynamic ideation tool. CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .task-item input:checked + label {
            text-decoration: line-through;
            color: #6b7280;
        }
        .task-item input:checked + label .task-icon {
            color: #10b981;
        }
        .nav-link.active {
            background-color: #d4e9e2;
            color: #065f46;
            font-weight: 600;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px;
            margin-left: auto;
            margin-right: auto;
            height: 400px;
            max-height: 50vh;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #065f46;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: none;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-stone-50 text-stone-800">

    <div class="flex flex-col md:flex-row min-h-screen">
        <!-- Sidebar Navigation -->
        <aside class="w-full md:w-64 bg-stone-100 p-4 md:p-6 border-r border-stone-200">
            <h1 class="text-xl font-bold text-emerald-800">TP3 Paisagismo</h1>
            <h2 class="text-sm text-emerald-600 mb-6">Campus Biof√≠lico</h2>
            <nav id="main-nav">
                <ul class="space-y-2">
                    <li><a href="#memorial" class="nav-link flex items-center p-2 rounded-lg hover:bg-stone-200 transition-colors duration-200"><span>üìù</span><span class="ml-3">Memorial Descritivo</span></a></li>
                    <li><a href="#implantacao" class="nav-link flex items-center p-2 rounded-lg hover:bg-stone-200 transition-colors duration-200"><span>üó∫Ô∏è</span><span class="ml-3">Implanta√ß√£o</span></a></li>
                    <li><a href="#planta_ambientes" class="nav-link flex items-center p-2 rounded-lg hover:bg-stone-200 transition-colors duration-200"><span>üîç</span><span class="ml-3">Planta dos Ambientes</span></a></li>
                    <li><a href="#cortes" class="nav-link flex items-center p-2 rounded-lg hover:bg-stone-200 transition-colors duration-200"><span>üìê</span><span class="ml-3">Cortes</span></a></li>
                    <li><a href="#perspectivas" class="nav-link flex items-center p-2 rounded-lg hover:bg-stone-200 transition-colors duration-200"><span>üèûÔ∏è</span><span class="ml-3">Perspectivas</span></a></li>
                    <li><a href="#entrega" class="nav-link flex items-center p-2 rounded-lg hover:bg-stone-200 transition-colors duration-200"><span>üì§</span><span class="ml-3">Forma de Entrega</span></a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 p-4 md:p-8 lg:p-10">
            
            <!-- Section 1: Memorial Descritivo -->
            <section id="memorial" class="content-section">
                <h2 class="text-3xl font-bold text-emerald-800 mb-2">1. Memorial Descritivo</h2>
                <p class="mb-8 text-stone-600">Esta se√ß√£o √© o cora√ß√£o narrativo do seu projeto. Aqui voc√™ deve articular o conceito, as decis√µes de projeto e as justificativas t√©cnicas e est√©ticas que guiaram o desenvolvimento do Campus Biof√≠lico.</p>
                <div class="space-y-4">
                    <!-- Accordion Item 1.1 -->
                    <div class="accordion-item bg-white border border-stone-200 rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-stone-700">
                            1.1. Conceito, Diretrizes e Programa
                            <span class="transform transition-transform duration-300">‚ñº</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <div class="p-4 border-t border-stone-200 text-stone-600 space-y-3">
                                <p><strong>Conceito Central:</strong> Descreva o conceito do "Campus Biof√≠lico" no recorte espec√≠fico. Como a ideia da "F√°brica na Floresta" se traduz em princ√≠pios de design para o seu espa√ßo?</p>
                                <p><strong>Diretrizes de Projeto:</strong> Apresente as diretrizes que guiaram suas escolhas. Pense em microclima, biodiversidade, permeabilidade, acessibilidade, uso social, est√©tica.</p>
                                <p><strong>Programa de Necessidades:</strong> Descreva o programa atendido no seu recorte, justificando a implanta√ß√£o dos equipamentos (√°reas de estar, circula√ß√£o, etc.). Por que cada fun√ß√£o est√° naquele local espec√≠fico?</p>
                            </div>
                        </div>
                    </div>
                     <!-- Accordion Item 1.2 -->
                    <div class="accordion-item bg-white border border-stone-200 rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-stone-700">
                            1.2. Acessos (Entorno)
                            <span class="transform transition-transform duration-300">‚ñº</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <div class="p-4 border-t border-stone-200 text-stone-600 space-y-3">
                                <p>Detalhe como a rela√ß√£o do projeto com as vias circundantes e os edif√≠cios existentes se estabelece.</p>
                                <p>Descreva os fluxos de acesso (pedestres, ve√≠culos ‚Äì se houver) e como eles se integram ao paisagismo.</p>
                            </div>
                        </div>
                    </div>
                     <!-- Accordion Item 1.3 -->
                    <div class="accordion-item bg-white border border-stone-200 rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-stone-700">
                            1.3. Materiais
                            <span class="transform transition-transform duration-300">‚ñº</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <div class="p-4 border-t border-stone-200 text-stone-600 space-y-3">
                                <p>Liste e descreva os materiais para pisos, mobili√°rio fixo, elementos de conten√ß√£o, revestimentos, etc.</p>
                                <p>Justifique a escolha de cada material. Considere durabilidade, manuten√ß√£o, sustentabilidade, permeabilidade, conforto t√©rmico, seguran√ßa, e como eles refor√ßam o conceito.</p>
                            </div>
                        </div>
                    </div>
                     <!-- Accordion Item 1.4 -->
                    <div class="accordion-item bg-white border border-stone-200 rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-stone-700">
                            1.4. Vegeta√ß√£o e Tabela de Flora√ß√£o
                            <span class="transform transition-transform duration-300">‚ñº</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <div class="p-4 border-t border-stone-200 text-stone-600 space-y-3">
                                <p>Descreva as esp√©cies vegetais escolhidas para cada estrato e justifique suas escolhas com base em suas contribui√ß√µes para o microclima, biodiversidade e est√©tica.</p>
                                <p>Abaixo, um exemplo interativo da tabela de flora√ß√£o para visualizar o ciclo das esp√©cies ao longo do ano.</p>
                                <div class="chart-container mt-6">
                                    <canvas id="floweringChart"></canvas>
                                </div>
                                <div class="mt-8 pt-4 border-t border-stone-200">
                                    <h3 class="text-xl font-semibold text-emerald-700 mb-4">‚ú® Sugestor de Esp√©cies Vegetais</h3>
                                    <p class="text-stone-600 mb-3">Descreva as caracter√≠sticas desejadas para as plantas (ex: "plantas para sombra", "√°rvores frut√≠feras que atraem p√°ssaros", "arbustos com flora√ß√£o roxa no ver√£o").</p>
                                    <textarea id="plantSuggestionInput" class="w-full p-2 border border-stone-300 rounded-md focus:ring-emerald-500 focus:border-emerald-500 mb-3" rows="3" placeholder="Ex: Plantas nativas do cerrado que atraem borboletas..."></textarea>
                                    <button id="getPlantSuggestions" class="bg-emerald-600 text-white px-4 py-2 rounded-md hover:bg-emerald-700 transition-colors duration-200 flex items-center justify-center">
                                        Obter Sugest√µes
                                        <div id="loadingSpinner" class="loading-spinner ml-2"></div>
                                    </button>
                                    <div id="plantSuggestionsOutput" class="mt-4 p-3 bg-emerald-50 border border-emerald-200 rounded-md text-emerald-800 hidden"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                     <!-- Accordion Item 1.5 -->
                    <div class="accordion-item bg-white border border-stone-200 rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-stone-700">
                            1.5. Mobili√°rio
                            <span class="transform transition-transform duration-300">‚ñº</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <div class="p-4 border-t border-stone-200 text-stone-600 space-y-3">
                                <p>Descreva os tipos de mobili√°rio proposto (bancos, lixeiras, biciclet√°rios, lumin√°rias, etc.).</p>
                                <p>Justifique a escolha e a disposi√ß√£o do mobili√°rio em rela√ß√£o ao uso e √† funcionalidade dos espa√ßos.</p>
                            </div>
                        </div>
                    </div>
                    <!-- Accordion Item 1.6 & 1.7 -->
                    <div class="accordion-item bg-white border border-stone-200 rounded-lg shadow-sm">
                        <button class="accordion-header w-full flex justify-between items-center p-4 text-left font-semibold text-stone-700">
                            1.6 & 1.7. Conclus√£o e Refer√™ncias
                            <span class="transform transition-transform duration-300">‚ñº</span>
                        </button>
                        <div class="accordion-content overflow-hidden max-h-0 transition-all duration-500 ease-in-out">
                            <div class="p-4 border-t border-stone-200 text-stone-600 space-y-3">
                                <p><strong>Conclus√£o:</strong> Sintetize os pontos-chave do seu projeto e reforce como ele atende aos objetivos propostos.</p>
                                <p><strong>Refer√™ncias:</strong> Liste todas as refer√™ncias bibliogr√°ficas, projetos ou artigos que serviram de inspira√ß√£o.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Section 2: Implanta√ß√£o -->
            <section id="implantacao" class="content-section">
                <h2 class="text-3xl font-bold text-emerald-800 mb-2">2. Implanta√ß√£o (Escala 1:100)</h2>
                <p class="mb-8 text-stone-600">Esta se√ß√£o corresponde √† representa√ß√£o t√©cnica detalhada do seu projeto na horizontal. Utilize a checklist abaixo para garantir que todos os elementos necess√°rios foram inclu√≠dos na sua prancha.</p>
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm">
                    <ul class="space-y-3">
                        <li class="task-item"><input type="checkbox" id="task2-1" class="mr-2"><label for="task2-1" class="text-stone-700"><span class="task-icon">üìç</span> Representa√ß√£o Geral (Delimita√ß√£o, Entorno, Norte)</label></li>
                        <li class="task-item"><input type="checkbox" id="task2-2" class="mr-2"><label for="task2-2" class="text-stone-700"><span class="task-icon">üìà</span> Informa√ß√µes Topogr√°ficas (Curvas de n√≠vel, corte/aterro)</label></li>
                        <li class="task-item"><input type="checkbox" id="task2-3" class="mr-2"><label for="task2-3" class="text-stone-700"><span class="task-icon">üìè</span> Cotas e N√≠veis</label></li>
                        <li class="task-item"><input type="checkbox" id="task2-4" class="mr-2"><label for="task2-4" class="text-stone-700"><span class="task-icon">üö∂</span> Acessos e Caminhos (Escadas, Rampas)</label></li>
                        <li class="task-item"><input type="checkbox" id="task2-5" class="mr-2"><label for="task2-5" class="text-stone-700"><span class="task-icon">üå≥</span> Elementos do Projeto (Vegeta√ß√£o, Mobili√°rio, Pisos)</label></li>
                        <li class="task-item"><input type="checkbox" id="task2-6" class="mr-2"><label for="task2-6" class="text-stone-700"><span class="task-icon">üìã</span> Legendas (Vegeta√ß√£o, Pisos, S√≠mbolos)</label></li>
                        <li class="task-item"><input type="checkbox" id="task2-7" class="mr-2"><label for="task2-7" class="text-stone-700"><span class="task-icon">‚úÇÔ∏è</span> Indica√ß√£o das Linhas de Corte</label></li>
                    </ul>
                </div>
            </section>

            <!-- Section 3: Planta dos Ambientes -->
             <section id="planta_ambientes" class="content-section">
                <h2 class="text-3xl font-bold text-emerald-800 mb-2">3. Planta dos Ambientes/Setores (Escala Ampliada)</h2>
                <p class="mb-8 text-stone-600">Para √°reas que necessitam de maior detalhamento, escolha 1 ou 2 ambientes estrat√©gicos e os represente em escala ampliada (ex: 1:50, 1:25) para mostrar com mais precis√£o os detalhes construtivos e de design.</p>
                 <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm">
                    <ul class="space-y-3">
                        <li class="task-item"><input type="checkbox" id="task3-1" class="mr-2"><label for="task3-1" class="text-stone-700"><span class="task-icon">‚ú®</span> Sele√ß√£o de 1 ou 2 Ambientes Estrat√©gicos</label></li>
                        <li class="task-item"><input type="checkbox" id="task3-2" class="mr-2"><label for="task3-2" class="text-stone-700"><span class="task-icon">üîé</span> Detalhamento em Escala Ampliada (1:50, 1:25)</label></li>
                        <li class="task-item"><input type="checkbox" id="task3-3" class="mr-2"><label for="task3-3" class="text-stone-700"><span class="task-icon">üíß</span> Inclus√£o de Detalhes (Pagina√ß√£o, Drenagem, Irriga√ß√£o)</label></li>
                        <li class="task-item"><input type="checkbox" id="task3-4" class="mr-2"><label for="task3-4" class="text-stone-700"><span class="task-icon">üõãÔ∏è</span> Especifica√ß√£o Minuciosa de Mobili√°rio e Ilumina√ß√£o</label></li>
                        <li class="task-item"><input type="checkbox" id="task3-5" class="mr-2"><label for="task3-5" class="text-stone-700"><span class="task-icon">üìú</span> Legendas e Cotas Espec√≠ficas para o Ambiente</label></li>
                    </ul>
                </div>
            </section>

            <!-- Section 4: Cortes -->
            <section id="cortes" class="content-section">
                <h2 class="text-3xl font-bold text-emerald-800 mb-2">4. Cortes (M√≠nimo 4)</h2>
                <p class="mb-8 text-stone-600">Os cortes s√£o essenciais para entender a volumetria, a rela√ß√£o com o terreno e a tridimensionalidade do projeto. Elabore no m√≠nimo 4 cortes estrat√©gicos que revelem os aspectos mais importantes do seu design.</p>
                <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm">
                    <ul class="space-y-3">
                        <li class="task-item"><input type="checkbox" id="task4-1" class="mr-2"><label for="task4-1" class="text-stone-700"><span class="task-icon">üî™</span> Escolha de 4 Cortes Estrat√©gicos</label></li>
                        <li class="task-item"><input type="checkbox" id="task4-2" class="mr-2"><label for="task4-2" class="text-stone-700"><span class="task-icon">‚õ∞Ô∏è</span> Indica√ß√£o Clara de Corte e Aterro</label></li>
                        <li class="task-item"><input type="checkbox" id="task4-3" class="mr-2"><label for="task4-3" class="text-stone-700"><span class="task-icon">üåø</span> Representa√ß√£o da Vegeta√ß√£o em Porte Real (e sistema radicular, se relevante)</label></li>
                        <li class="task-item"><input type="checkbox" id="task4-4" class="mr-2"><label for="task4-4" class="text-stone-700"><span class="task-icon">‚úçÔ∏è</span> Qualidade Gr√°fica (Linhas, Hachuras, Texturas)</label></li>
                         <li class="task-item"><input type="checkbox" id="task4-5" class="mr-2"><label for="task4-5" class="text-stone-700"><span class="task-icon">‚ÜîÔ∏è</span> Indica√ß√£o de Cotas Verticais e Horizontais</label></li>
                    </ul>
                </div>
            </section>

            <!-- Section 5: Perspectivas -->
            <section id="perspectivas" class="content-section">
                <h2 class="text-3xl font-bold text-emerald-800 mb-2">5. Perspectivas</h2>
                <p class="mb-8 text-stone-600">As perspectivas comunicam a atmosfera e a experi√™ncia espacial do seu projeto. Elas devem mostrar visualmente como a ideia de "penetrar, envolver e adentrar o edif√≠cio" com a floresta se manifesta.</p>
                 <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm">
                    <ul class="space-y-3">
                        <li class="task-item"><input type="checkbox" id="task5-1" class="mr-2"><label for="task5-1" class="text-stone-700"><span class="task-icon">üåç</span> M√≠nimo 1 Perspectiva Geral Contextualizada</label></li>
                        <li class="task-item"><input type="checkbox" id="task5-2" class="mr-2"><label for="task5-2" class="text-stone-700"><span class="task-icon">üì∏</span> M√≠nimo 4 Perspectivas de Ambientes com Visadas Diversificadas</label></li>
                        <li class="task-item"><input type="checkbox" id="task5-3" class="mr-2"><label for="task5-3" class="text-stone-700"><span class="task-icon">üé®</span> Destaque para Qualidades Espaciais, Vegeta√ß√£o e Materialidade</label></li>
                        <li class="task-item"><input type="checkbox" id="task5-4" class="mr-2"><label for="task5-4" class="text-stone-700"><span class="task-icon">‚òÄÔ∏è</span> Aten√ß√£o √† Luz, Sombra e Atmosfera</label></li>
                    </ul>
                </div>
            </section>

            <!-- Section 6: Forma de Entrega -->
            <section id="entrega" class="content-section">
                <h2 class="text-3xl font-bold text-emerald-800 mb-2">Forma de Apresenta√ß√£o/Entrega</h2>
                <p class="mb-8 text-stone-600">Requisitos finais para a submiss√£o do trabalho. Certifique-se de que todos os itens est√£o em conformidade antes de enviar.</p>
                 <div class="bg-white p-6 rounded-lg border border-stone-200 shadow-sm">
                    <ul class="space-y-3">
                        <li class="text-stone-700"><strong>Pranchas:</strong> O conte√∫do deve ser apresentado por meio de plantas, cortes, perspectivas, textos e fotos.</li>
                        <li class="text-stone-700"><strong>Identifica√ß√£o:</strong> Todas as pranchas devem conter carimbo e indica√ß√£o de norte.</li>
                        <li class="text-stone-700"><strong>Formato de Entrega:</strong> O trabalho ser√° entregue em <strong>PDF</strong>, via Canvas.</li>
                        <li class="text-stone-700"><strong>Apresenta√ß√£o:</strong> O trabalho ser√° apresentado e discutido em sala.</li>
                    </ul>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Accordion functionality
            const accordionHeaders = document.querySelectorAll('.accordion-header');
            accordionHeaders.forEach(header => {
                header.addEventListener('click', () => {
                    const accordionContent = header.nextElementSibling;
                    const accordionIcon = header.querySelector('span');
                    
                    header.parentElement.classList.toggle('open');
                    
                    if (header.parentElement.classList.contains('open')) {
                        accordionContent.style.maxHeight = accordionContent.scrollHeight + 'px';
                        accordionIcon.style.transform = 'rotate(180deg)';
                    } else {
                        accordionContent.style.maxHeight = '0px';
                        accordionIcon.style.transform = 'rotate(0deg)';
                    }
                });
            });

            // Navigation functionality
            const navLinks = document.querySelectorAll('.nav-link');
            const contentSections = document.querySelectorAll('.content-section');

            function showSection(hash) {
                contentSections.forEach(section => {
                    section.classList.remove('active');
                });
                navLinks.forEach(link => {
                    link.classList.remove('active');
                });

                const targetSection = document.querySelector(hash);
                const targetLink = document.querySelector(`.nav-link[href="${hash}"]`);

                if (targetSection) {
                    targetSection.classList.add('active');
                }
                if(targetLink) {
                    targetLink.classList.add('active');
                }
            }

            navLinks.forEach(link => {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    const hash = link.getAttribute('href');
                    history.pushState(null, null, hash);
                    showSection(hash);
                });
            });

            // Initial section load
            const initialHash = window.location.hash || '#memorial';
            showSection(initialHash);


            // Chart.js - Flowering Chart
            const ctx = document.getElementById('floweringChart').getContext('2d');
            
            const floweringData = {
                labels: ['Ip√™ Amarelo', 'Manac√° da Serra', 'Quaresmeira', 'Pata-de-Vaca', 'Jacarand√°-Mimoso'],
                datasets: [{
                    label: 'Flora√ß√£o',
                    data: [
                        [7, 9],    // Ago-Set
                        [10, 12],  // Nov-Jan
                        [6, 8],    // Jul-Set
                        [7, 9],    // Ago-Set
                        [9, 11]    // Out-Dez
                    ],
                    backgroundColor: [
                        'rgba(252, 211, 77, 0.7)',
                        'rgba(192, 132, 252, 0.7)',
                        'rgba(216, 180, 254, 0.7)',
                        'rgba(249, 168, 212, 0.7)',
                        'rgba(165, 180, 252, 0.7)'
                    ],
                    borderColor: [
                        'rgba(252, 211, 77, 1)',
                        'rgba(192, 132, 252, 1)',
                        'rgba(216, 180, 254, 1)',
                        'rgba(249, 168, 212, 1)',
                        'rgba(165, 180, 252, 1)'
                    ],
                    borderWidth: 1,
                    borderSkipped: false,
                    borderRadius: 4,
                    barPercentage: 0.6,
                }]
            };

            new Chart(ctx, {
                type: 'bar',
                data: floweringData,
                options: {
                    indexAxis: 'y',
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        title: {
                            display: true,
                            text: 'Calend√°rio de Flora√ß√£o Anual (Exemplo)',
                            font: {
                                size: 16
                            },
                            color: '#44403c'
                        },
                         tooltip: {
                            callbacks: {
                                label: function(context) {
                                    const months = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];
                                    let start = context.raw[0];
                                    let end = context.raw[1];
                                    return ` Floresce de ${months[start-1]} a ${months[end-1]}`;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            min: 1,
                            max: 12,
                            grid: {
                                display: true,
                                color: 'rgba(200, 200, 200, 0.2)'
                            },
                            ticks: {
                                stepSize: 1,
                                callback: function(value, index, values) {
                                    const months = ['Jan', 'Fev', 'Mar', 'Abr', 'Mai', 'Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov', 'Dez'];
                                    return months[value-1];
                                }
                            }
                        },
                        y: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });

            // Gemini API Integration for Plant Suggestions
            const plantSuggestionInput = document.getElementById('plantSuggestionInput');
            const getPlantSuggestionsButton = document.getElementById('getPlantSuggestions');
            const plantSuggestionsOutput = document.getElementById('plantSuggestionsOutput');
            const loadingSpinner = document.getElementById('loadingSpinner');

            getPlantSuggestionsButton.addEventListener('click', async () => {
                const promptText = plantSuggestionInput.value.trim();
                if (!promptText) {
                    plantSuggestionsOutput.innerHTML = '<p class="text-red-600">Por favor, descreva as caracter√≠sticas desejadas para as plantas.</p>';
                    plantSuggestionsOutput.classList.remove('hidden');
                    return;
                }

                loadingSpinner.style.display = 'block';
                getPlantSuggestionsButton.disabled = true;
                plantSuggestionsOutput.classList.add('hidden');
                plantSuggestionsOutput.innerHTML = '';

                try {
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: `Sugira 3-5 esp√©cies vegetais para paisagismo com as seguintes caracter√≠sticas: ${promptText}. Inclua nome popular, nome cient√≠fico e uma breve caracter√≠stica para cada. Formate a resposta como uma lista, com cada item come√ßando com o nome popular e o nome cient√≠fico entre par√™nteses.` }] });
                    const payload = { contents: chatHistory };
                    const apiKey = "";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        plantSuggestionsOutput.innerHTML = text;
                        plantSuggestionsOutput.classList.remove('hidden');
                    } else {
                        plantSuggestionsOutput.innerHTML = '<p class="text-red-600">N√£o foi poss√≠vel obter sugest√µes. Tente novamente.</p>';
                        plantSuggestionsOutput.classList.remove('hidden');
                    }
                } catch (error) {
                    console.error('Erro ao chamar a API Gemini:', error);
                    plantSuggestionsOutput.innerHTML = '<p class="text-red-600">Ocorreu um erro ao buscar sugest√µes. Verifique sua conex√£o ou tente mais tarde.</p>';
                    plantSuggestionsOutput.classList.remove('hidden');
                } finally {
                    loadingSpinner.style.display = 'none';
                    getPlantSuggestionsButton.disabled = false;
                }
            });
        });
    </script>
</body>
</html>
